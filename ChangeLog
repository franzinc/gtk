2009-04-30  Duane Rettig  <duanerettig@duane-rettigs-macbook-pro.local>

	*  loadgtk20.cl: Fix library build for MacOSX to use Quartz library

2009-04-17  Duane Rettig  <duane@franz.com>

	* loadgtk20.cl: Fix library building for MacOSX

2009-01-15 (2)  Ken Cheetham  <cheetham@gemini>

	Forgot to update the patch number to 2.

2009-01-15  Ken Cheetham  <cheetham@gemini>

*** Summary ***

bug18243 - Remove the auto-generated foreign type definition of
"boolean" that inadvertently wiped out the CL boolean type.

2009-01-15    Ken Cheetham   <cheetham@gemini>
	
*** Summary ***

Merged the two 8.1 patches to the gtk ffi module into my trunk
checkout so that the fixes are in my 8.2 linux cg/ide that I build on
a trunk checkout of gtk, without waiting for a join.

bug17351 - Use :nat rather than :int for pointer return values, to
work on 64-bit platforms.

bug18243 - Don't define cl:boolean as a numeric foreign type.

*** Details ***

RCS file: /cvs/gtk/gtk20.cl,v
+ ;; For bug17351 (v1) and bug18243 (v2).
+ (sys:defpatch "gtk20"
+   1
+   "v1: Fix 64-bit Linux crashes due to declaring pointer return values as :int.
+    v2: Remove the auto-generated redefinition of boolean as a foreign :int."
+   :type :system)
+ ;;; chee   15jan09 bug18243 remove this auto-generated definition that
+ ;;;        inadvertently wiped out the CL boolean type
+ #+removed
  (def-foreign-type boolean :int)
+ ;;; chee   20aug07 bug17351 use :nat rather than :int for pointer
+ ;;;        return values, to work on 64-bit platforms
    (def-fwrapper bind-c-function-char*-wrapper (&rest args)
! 			(setf (cadr nlist) ':int)))
! 			(setf (cadr nlist) :nat))) ;; bug17351

2007-08-20  Ken Cheetham  <cheetham@gemini>

	* bug17351 Declare pointer return values as :nat rather than
	  :int, to work on 64-bit platforms
	
*******************************************************************************
join from acl8 to trunk, changes from
	2006-05-22  Kevin Layer  <layer@gemini>
    to
	2006-05-16  Kevin Layer  <layer@gemini>

*******************************************************************************
post-8.0 release changes:

2006-05-22  Kevin Layer  <layer@gemini>

	* loadgtk20.cl: bug16221: 2nd part of previous fix

2006-05-16  Kevin Layer  <layer@gemini>

	* loadgtk20.cl: bug16221: preserve logical pathname for .so so
	  image portability is possible

*******************************************************************************
2005-10-31  Kevin Layer  <layer@gemini>

	* loadgtk20.cl: use the new logical host `gtk' for the location
	  from which to load gtk20-lib.so.  This is defined differently
	  and correctl for development and users.

2005-09-28  Kevin Layer  <layer@gemini>

	* Makefile: rm -f so "make clean" does fail if run twice

2005-09-15  Kevin Layer  <layer@gemini>

	* loadgtk20.cl: bug15544: from cox

2005-06-10  Duane Rettig  <duane@gemini>

	* eh.cl: Add standard in-case-mode headers
	* gtk20.cl: Add standard in-case-mode headers; add extra
	ff call needed by cg
	* loadgtk20.cl: Fix compilation speed of gtk20.cl; Add
	in-case-mode changes

2005-04-12  Kevin Layer  <layer@gemini>

	* gtk20.cl: comment out the case mode check/error

2005-04-11  Charles A. Cox  <cox@fritter>

	* gtk20.cl: Restored symbols from gdk/gdkkeysyms.h except those
	with case problems.

2005-04-11  Charles A. Cox  <cox@gemini>

	* gtk20.cl: Name changes to allow gtk in ANSI mode.
	* loadgtk20.cl: Remove use of :invert readtable-case.  Also
	bug14934 fix from acl70 branch.

*******************************************************************************
post-7.0 release

2004-11-08  Charles A. Cox  <cox@fritter>

	* loadgtk20.cl: eliminate lp usage.

*******************************************************************************

2004-08-31  Charles A. Cox  <cox@gemini>

	* loadgtk20.cl: pkg-config on redhat9 seems to expect it is being
	used by cc instead of ld.  So, we change it here.

2003-12-31  Charles A. Cox  <cox@gemini>

	* cdbind.cl: bug13705 fix.

2003-07-14  Charles A. Cox  <cox@fritter>

	* gtk12.cl, gtk20.cl: no longer using skip-in-ansi-mode.  Add
	various macros.
	* loadgtk20.cl: Don't compile gtk20.cl (too big for trial).

2003-05-13  Charles A. Cox  <cox@fritter>

	* gtk20.cl: Added constants from gdk/gdkkeysyms.h

2003-05-13  Charles A. Cox  <cox@fritter>

  From acl6 branch (marked with "b> ").
  Join command used: cvs update -d -j acl6_to_trunk_join3 -j acl6 gtk

b> 2003-05-13  Charles A. Cox  <cox@fritter>
b> 
b>   From acl62 branch (marked with "b> ").
b>   Join command used: cvs update -d -j acl62_to_acl6_join2 -j acl62 gtk
b> 
b> b> 2003-01-21  Kevin Layer  <layer@crikey>
b> b> 
b> b> 	* makedist.cl: only delete directory and files if they
b> b> 	  exist--required because delete-directory-and-files keyword
b> b> 	  defaults changed
b> b> 
b> b> 2002-08-14  Charles A. Cox  <cox@fritter>
b> b> 
b> b>   Joined acl62 branch to acl6 and added new join tag: acl62_to_acl6_join2
b> b>   Commands used:
b> b>    cvs update -d -j acl62_to_acl6_join1 -j acl62 gtk (in trunk checkout)
b> b>    cvs tag acl62_to_acl6_join2 gtk (in branch checkout)
b> b> 
b> 
b> 
b> 2002-08-14  Charles A. Cox  <cox@fritter>
b> 
b>   Joined acl6 branch to trunk and added new join tag: acl6_to_trunk_join3
b>   Commands used:
b>    cvs update -d -j acl6_to_trunk_join2 -j acl6 gtk (in trunk checkout)
b>    cvs tag acl6_to_trunk_join3 gtk (in branch checkout)
b> 


*******************************************************************************

Tue Mar 18 16:27:03 PST 2003  Duane Rettig  <duane@beta>

	* makedist.cl: Fix directory deletion to work on nonexistent dir

*******************************************************************************

2002-08-14  Charles A. Cox  <cox@fritter>

  From acl6 branch (marked with "b> ").
  Join command used: cvs update -d -j acl6_to_trunk_join2 -j acl6 gtk

b> 2002-08-14  Charles A. Cox  <cox@fritter>
b> 
b>   From acl62 branch (marked with "b> ").
b>   Join command used: cvs update -d -j acl62_to_acl6_join1 -j acl62 gtk
b> 
b> b> 2002-08-14  Charles A. Cox  <cox@fritter>
b> b> 
b> b> 	bug12382 fix:
b> b> 	* eh.cl: Fix def-foreign-call for ANSI mode.
b> b> 	* loadgtk12.cl: Fix for ANSI mode.  Load uncompiled in Trial.
b> b> 	* loadgtk20.cl: Fix for ANSI mode.  Load uncompiled always.
b> b> 
b> b> Tue Jul 09 17:14:39 2002  Charles A. Cox  <cox@FOX>
b> b> 
b> b>   Joined [branch] branch to trunk and added new join tag: acl62_to_acl6_join1
b> b>   Commands used:
b> b>    cvs update -d -j acl62_branch_point -j acl62 gtk (in trunk checkout)
b> b>    cvs tag acl62_to_acl6_join1 gtk (in branch checkout)
b> 	
b> Tue Jul 09 17:28:32 2002  Charles A. Cox  <cox@FOX>
b> 
b>   Joined acl6 branch to trunk and added new join tag: acl6_to_trunk_join2
b>   Commands used:
b>    cvs update -d -j acl6_to_trunk_join1 -j acl6 gtk (in trunk checkout)
b>    cvs tag acl6_to_trunk_join2 gtk (in branch checkout)

	
Tue Jul 09 17:21:57 2002  Charles A. Cox  <cox@FOX>

  From acl6 branch (marked with "b> ").
  Join command used: cvs update -d -j acl6_to_trunk_join1 -j acl6 gtk

b> Tue Jul 09 17:06:42 2002  Charles A. Cox  <cox@FOX>
b> 
b>   From [branch] branch (marked with "b> ").
b>   Join command used: cvs update -d -j acl62_branch_point -j acl62 gtk
b> 
b> b> 2002-04-11  Charles A. Cox  <cox@fritter>
b> b> 
b> b>   Added support for GTK+ 2.0.  Rearranged files and directories to support
b> b>   both GTK+ 1.2 and GTK+ 2.0.
b> b> 	
b> b> 	gtk.cl -> gtk12.cl and gtk20.cl.
b> b> 	load.cl -> loadgtk12.cl and loadgtk20.cl.
b> b> 	lispex/ -> lispex-gtk12/ and lispex-gtk20/.
b> b> 	notes/base-c-out.c -> notes/base-c-out.c-gtk12 and
b> b> 	notes/base-c-out.c-gtk20.
b> b> 	
b> b> 	* Makefile: enhance 'clean'.
b> b> 	* cdbind.cl: import stuff from old gtk.cl.
b> b> 	* eh.cl: Use XConnectionNumber(gdk_display) instead of
b> b> 	event_poll_fd, which only worked for gtk 1.2.
b> b> 	* makedist.cl: update.
b> b> 	* readme.txt: update.
b> b> 	* notes/gtk-build.txt: include gtk20 build experiences.
b> b> 	* notes/notes.txt: 
b> 
b> 2002-04-10  Charles A. Cox  <cox@fritter>
b> 
b>   Joined acl6 branch to trunk and added new join tag: acl6_to_trunk_join1
b>   Commands used:
b>    cvs update -d -j acl6_to_trunk_join0 -j acl6 gtk (in trunk checkout)
b>    cvs tag acl6_to_trunk_join1 gtk (in branch checkout)

2002-04-10  Charles A. Cox  <cox@fritter>

  From acl6 branch (marked with "b> ").
  Join command used: cvs update -d -j acl6_to_trunk_join0 -j acl6 gtk
	
b> 2002-03-14  Charles A. Cox  <cox@fritter>
b> 
b> 	* readme.txt: State that this doesn't work for gtk2.
b> 	
b> 2002-02-27  Kevin Layer  <layer@crikey>
b> 
b> 	* (NEW) Makefile (used by distribution building code)
b> 
b> 2002-02-26  Charles A. Cox  <cox@ultra>
b> 
b>   Decided to use a different strategy to handle ansi/modern mismatch.
b> 	
b> 	* cdbind.cl: pull recent changes for ansi/modern mismatch.
b> 	* gtk.cl: warn at loadtime when casemode mismatch.  Define
b> 	skip-in-ansi-mode macro.  Use for the three needed spots.
b> 
b> 2002-02-26  Charles A. Cox  <cox@fritter>
b> 
b> 	* cdbind.cl: Applied rfe5160 to gtk copy of this file.  Also,
b> 	added :skip-in-ansi-mode to bind-c-function and bind-c-constant.
b> 	* gtk.cl: Use :skip-in-ansi-mode for gtk_object_constructed,
b> 	gtk_check_version, and G_CSET_a_2_z.
b> 

2002-02-20  Charles A. Cox  <cox@ultra>

  Initial checkin.  Command being used:
  cvs import -m "Initial acl gtk interface checkin" gtk fi init
